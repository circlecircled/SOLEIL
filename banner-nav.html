<!-- banner-nav.html - Reusable Navigation Component -->
<style>
  .banner-link {
    position: absolute;
    display: block;
    width: 7vw;
    min-width: 50px;
    height: 2.6vw;
    min-height: 28px;
    background: transparent;
    border-radius: 6px;
    pointer-events: auto;
    cursor: pointer;
    z-index: 10;
    margin: 0;
    border: none;
    opacity: 0.92;
    text-decoration: none;
    transition: background 0.2s;
    color: transparent;
    font-size: 0;
    line-height: 0;
  }
  
  .banner-link:hover {
    background: rgba(255, 255, 255, 0.1);
  }
</style>

<!-- Navigation Links -->
<a id="banner-ethos" class="banner-link" href="ethos.html" title="Ethos"></a>
<a id="banner-oeuvre" class="banner-link" href="oeuvre.html" title="Oeuvre"></a>
<a id="banner-home" class="banner-link" href="index.html" title="Home"></a>
<a id="banner-engage" class="banner-link" href="engage.html" title="Engage"></a>
<a id="banner-tome" class="banner-link" href="tome.html" title="Tome"></a>

<script>
  const banners = [
    { id: 'banner-ethos',   left: 0.12 },
    { id: 'banner-oeuvre',  left: 0.25 },
    { id: 'banner-home',    left: 0.45 },
    { id: 'banner-engage',  left: 0.64 },
    { id: 'banner-tome',    left: 0.77 }
  ];

  function positionBanners() {
    const img = document.getElementById('main-image');
    if (!img) return;
    
    const wrapper = img.parentElement;
    const imgNaturalWidth = img.naturalWidth;
    const imgNaturalHeight = img.naturalHeight;
    const wrapperRect = wrapper.getBoundingClientRect();
    let displayWidth = wrapperRect.width;
    let displayHeight = wrapperRect.height;
    let imgAspect = imgNaturalWidth / imgNaturalHeight;
    let boxAspect = displayWidth / displayHeight;
    
    if (boxAspect > imgAspect) {
      displayWidth = displayHeight * imgAspect;
    } else {
      displayHeight = displayWidth / imgAspect;
    }
    
    const xOffset = (wrapperRect.width - displayWidth) / 2;
    const yOffset = (wrapperRect.height - displayHeight) / 2;
    const top = yOffset + displayHeight * 0.03;
    
    banners.forEach(({id, left}) => {
      const el = document.getElementById(id);
      if (!el) return;
      el.style.top = top + "px";
      el.style.left = (xOffset + displayWidth * left) + "px";
      el.style.width = (displayWidth * 0.07) + "px";
      el.style.height = (displayHeight * 0.026) + "px";
    });
  }

  window.addEventListener('resize', positionBanners);
  
  // Initialize when image loads
  const initBanners = () => {
    const img = document.getElementById('main-image');
    if (img) {
      img.addEventListener('load', positionBanners);
      if (img.complete) positionBanners();
    }
  };
  
  // Run immediately if DOM is ready, otherwise wait
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initBanners);
  } else {
    initBanners();
  }
</script>
